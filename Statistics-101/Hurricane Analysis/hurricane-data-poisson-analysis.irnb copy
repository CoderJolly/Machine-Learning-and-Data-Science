{"cells":[{"metadata":{"_uuid":"f061a81b723b7db24817b23bfb669086375865a8"},"cell_type":"markdown","source":"# Analysis of Hurricane Data - A Case Study of Atlantic Hurricanes"},{"metadata":{"_uuid":"374c4ca5aed8880c8efc2f24a1b015f5d972b6e4"},"cell_type":"markdown","source":"## Loading the libraries"},{"metadata":{"_uuid":"60ef7c9c5a7b024a997445e97cf34093d5e4a77c","_execution_state":"idle","trusted":true},"cell_type":"code","source":"# For data munging and analysis\nlibrary(tidyverse)\n\n# For parsing the html tables from the internet\nlibrary(rvest)\n\n# Need to fit the data to various distributions\nlibrary(fitdistrplus)","execution_count":null,"outputs":[]},{"metadata":{"_uuid":"8af98592e985ed2d85e23d74eda23faf5331170a"},"cell_type":"markdown","source":"## Converting  years to decades"},{"metadata":{"trusted":true,"_uuid":"ff0c31abf4d658d0db46dd9cbaec31a67e551804"},"cell_type":"code","source":"# Generate a hurricane decade list to segment our hurricane data into the corresponding decades\nhurricane_decades <- c()\nhurricane_decade_year <- 1850\nwhile (hurricane_decade_year <= 2020){\n  hurricane_decades = c(hurricane_decades, hurricane_decade_year)\n  hurricane_decade_year = hurricane_decade_year + 10\n}","execution_count":null,"outputs":[]},{"metadata":{"trusted":true,"_uuid":"4e0e8180f879870a639616846fef0aedc23f1515"},"cell_type":"code","source":"convert_seasons_to_decade <- function(x){\n  index <- 1\n  while((index + 1) <= length(hurricane_decades)){\n    \n    if (x >= hurricane_decades[[index]] && x< hurricane_decades[[index + 1]]){\n      return(hurricane_decades[[index]])\n    }\n    index <- index + 1\n  }\n}","execution_count":null,"outputs":[]},{"metadata":{"_uuid":"599fa5de4fefb9b8f94594d2678868874744ede3"},"cell_type":"markdown","source":"## Parsing the html tables and process them"},{"metadata":{"trusted":true,"_uuid":"ca0a50c622386d4e6595cfac12e1bf142ae3bd63"},"cell_type":"code","source":"# Function to get the html table given a url\nget_html_table <- function(url){\n  hurricane_table <- url %>% \n    read_html %>%\n    html_nodes(\"table\")\n  \n  return(hurricane_table)\n}","execution_count":null,"outputs":[]},{"metadata":{"trusted":true,"_uuid":"f3bc7b5805f3f116333db6f415b4d38f0050727c"},"cell_type":"code","source":"# Function to process category 4 hurricane tables\nprocess_category_4_hurricane_tables <- function(category_4_hurricane_tables){\n  processed_hurricane_tables <- c()\n\n  # There are 5 different tables on the page and we get all of them by iterating through the\n  # raw hurricane table data from that page.\n  for (index in 2:6){\n    \n    # First get the raw table\n    hurricane_table <- html_table(category_4_hurricane_tables[index], fill = T)[[1]]\n    \n    # The first row contains the column names, so we remove it\n    hurricane_table <- hurricane_table[-1, ]\n    \n    # The last row also contains some unnecessary information, so we remove the last row\n    hurricane_table <- head(hurricane_table, -1)\n    \n    # Get only the Season column\n    hurricane_table <- hurricane_table[c(\"Season\")]\n    \n    # Convert the Seasons to decades\n    hurricane_table$Season_decade <- unlist(lapply(hurricane_table$Season, convert_seasons_to_decade))\n    \n    # Group by Season_decade and sum the counts\n    hurricane_table$one_column = 1\n    hurricane_table <- hurricane_table %>%\n      group_by(Season_decade) %>%\n      summarise(\n        total_hurricanes = sum(one_column)\n      )\n    \n    # Append the tables to the final list\n    processed_hurricane_tables[[index]] <- hurricane_table\n  }\n  \n  # Different tables contain the row for the same decade and hence we carry out a final group_by operation on the final processed\n  # table to get the final hurricane counts.\n  processed_hurricane_tables <- bind_rows(processed_hurricane_tables)\n  processed_hurricane_tables <- processed_hurricane_tables %>%\n      group_by(Season_decade) %>%\n      summarise(\n        total_hurricanes = sum(total_hurricanes)\n      )\n  return(processed_hurricane_tables)\n}","execution_count":null,"outputs":[]},{"metadata":{"trusted":true,"_uuid":"8ba1a72b30af15a22429631ecbd5b5c630fe3a17"},"cell_type":"code","source":"# Function to process category 5 hurricane tables\nprocess_category_5_hurricane_tables <- function(category_5_hurricane_tables){\n  \n  # First get the raw table\n  hurricane_table <- html_table(category_5_hurricane_tables[2], fill = T)[[1]]\n  \n  # The first row contains the column names, so we remove it\n  hurricane_table <- hurricane_table[-1, ]\n  \n  # The last row also contains some unnecessary information, so we remove the last row\n  hurricane_table <- head(hurricane_table, -1)\n  \n  hurricane_table <- hurricane_table[c(\"Dates as aCategory 5\")]\n  colnames(hurricane_table) <- c(\"Dates\")\n  \n  # Split the dates on space and get the 3rd element in the split list because that is the year\n  # in the date.\n  hurricane_table$Dates <- strsplit(hurricane_table$Dates, ' ')\n  \n  # lapply returns a list and so we unlist/unpack the list to get the numbers\n  hurricane_table$Season <- unlist(lapply(hurricane_table$Dates, function(x) x[[3]]))\n  \n  # Convert the Seasons to decades\n  hurricane_table$Season_decade <- unlist(lapply(hurricane_table$Season, convert_seasons_to_decade))\n  \n  # Group by Season_decade and sum the counts\n  hurricane_table$one_column = 1\n  hurricane_table <- hurricane_table %>%\n    group_by(Season_decade) %>%\n    summarise(\n      total_hurricanes = sum(one_column)\n    )\n  \n  return(hurricane_table)\n}","execution_count":null,"outputs":[]},{"metadata":{"_uuid":"513a02435678b8bb50ac38cc4a9f58a4e0d2bc1b"},"cell_type":"markdown","source":"## Get the html tables and convert to final processed dataframes"},{"metadata":{"trusted":true,"_uuid":"7433c17e3c48fd8632f33ac568f142d681bbffdd"},"cell_type":"code","source":"#URLs\nwiki_url_for_category_4_hurricanes <- \"https://en.wikipedia.org/wiki/List_of_Category_4_Atlantic_hurricanes\"\nwiki_url_for_category_5_hurricanes <- \"https://en.wikipedia.org/wiki/List_of_Category_5_Atlantic_hurricanes\"","execution_count":null,"outputs":[]},{"metadata":{"trusted":true,"scrolled":false,"_uuid":"8af2d2b3b9725b9f1c0f1b1636576737f5bb117e"},"cell_type":"code","source":"# Fetching the Hurricane Tables\ncategory_4_hurricane_tables <- get_html_table(wiki_url_for_category_4_hurricanes)\ncategory_5_hurricane_tables <- get_html_table(wiki_url_for_category_5_hurricanes)","execution_count":null,"outputs":[]},{"metadata":{"trusted":true,"_uuid":"02a42048575449a12bee162e30eba49ac8327d73"},"cell_type":"code","source":"# Process the raw html tables and convert them to the structure needed\nfinal_category_4_hurricane_table <- process_category_4_hurricane_tables(category_4_hurricane_tables)\nfinal_category_5_hurricane_table <- process_category_5_hurricane_tables(category_5_hurricane_tables)\n\n# Combine both the tables\nfinal_combined_hurricane_table <- bind_rows(final_category_4_hurricane_table, final_category_5_hurricane_table)","execution_count":null,"outputs":[]},{"metadata":{"_uuid":"748cf117ba457b831d0ab346ae563eea1331da10"},"cell_type":"markdown","source":"## Analysing probability distributions\nWe will use the dpois() function of R to model the probability distributions of our hurricane data. If we have the following code:\n\n**dpois(x = 1, lambda = lambda_for_category_4_hurricanes)**\n\nThis is the *Probability of 1 category-4 hurricane occuring in a decade when the mean hurricane rate is equal to the mean category-4 hurricanes.*\n\nSimilarly, we can calculate the probability of *n* category-4 hurricanes occuring in a decade."},{"metadata":{"trusted":true,"_uuid":"7d4977ae0b5c2f138043f75c88081fd00e213e34"},"cell_type":"code","source":"lamba_for_category_4_hurricanes <- mean(final_category_4_hurricane_table$total_hurricanes)\nlamba_for_category_5_hurricanes <- mean(final_category_5_hurricane_table$total_hurricanes)\nlambda_for_combined_hurricanes <- mean(final_combined_hurricane_table$total_hurricanes)","execution_count":null,"outputs":[]},{"metadata":{"trusted":true,"_uuid":"f654631cc85f857a8f5273ca76eeea0bbfc80cc2"},"cell_type":"code","source":"get_poisson_probabilities <- function(lambda){\n    \n    poisson_probabilities <- c()\n    for (i in 1:50){\n        \n      # Probability of exactly *i* hurricanes occuring in a decade\n      poisson_probabilities[i] <- dpois(i, lambda = 7)\n    }\n\n    poisson_probabilities_df <- as.data.frame(poisson_probabilities)\n    poisson_probabilities_df$num_hurricanes_in_the_decade <- c(1:50)\n    colnames(poisson_probabilities_df) <- c(\"poisson_probabilities\", \"number_of_hurricanes\")\n    \n    return(poisson_probabilities_df)\n}\n\ncategory_4_poisson_probabilities_df <- get_poisson_probabilities(lambda = lamba_for_category_4_hurricanes)\ncategory_5_poisson_probabilities_df <- get_poisson_probabilities(lambda = lamba_for_category_5_hurricanes)","execution_count":null,"outputs":[]},{"metadata":{"trusted":true,"_uuid":"aeae15f3fdb88f45fea05fbc7527b29930a09917"},"cell_type":"code","source":"category_4_poisson_probabilities_df %>%\nggplot(aes(x = number_of_hurricanes, y = poisson_probabilities))+\ngeom_point()+\ngeom_line(color = \"red\")+\nlabs(x = \"Number of Hurricanes in a Decade\", y = \"Probability of the Hurricane\", title = \"Probability Distribution of Number of Category - 4 Hurricanes in a Decade\")","execution_count":null,"outputs":[]},{"metadata":{"trusted":true,"_uuid":"787b689972c4aa515177460aba0e4d9209dd64b9"},"cell_type":"code","source":"category_5_poisson_probabilities_df %>%\nggplot(aes(x = number_of_hurricanes, y = poisson_probabilities))+\ngeom_point()+\ngeom_line(color = \"red\")+\nlabs(x = \"Number of Hurricanes in a Decade\", y = \"Probability of the Hurricane\", title = \"Probability Distribution of Number of Category - 5 Hurricanes in a Decade\")","execution_count":null,"outputs":[]},{"metadata":{"_uuid":"0058b2c1ec5045d1e554ef497d1739946c003f24"},"cell_type":"markdown","source":"We observe that the probability of a hurricane occuring (for both categories), shows a distribution similar to a Poisson Distribution."},{"metadata":{"_uuid":"4a2c4b16ff27efdbbbe6586089d69c93493454b2"},"cell_type":"markdown","source":"## Analysing the cumulative probability distribution\nLet us look at another function:\n\n**ppois(x = n, lambda = lambda_for_category_4_hurricanes)**\n\nThis function gives us the \"Probability of *n or fewer hurricanes* occuring in a decade when the rate is the mean category-4 hurricanes\". Lets plot it"},{"metadata":{"trusted":true,"_uuid":"30a1aebcca038cbd78a7e4606e0eae0d8986044d"},"cell_type":"code","source":"get_ppois_poisson_probabilities <- function(lambda){\n    \n    poisson_probabilities <- c()\n    for (i in 1:50){\n      # Probability of *i* or less hurricanes occuring in a decade\n      poisson_probabilities[i] <- ppois(i, lambda = lambda)\n    }\n\n    poisson_probabilities_df <- as.data.frame(poisson_probabilities)\n    poisson_probabilities_df$num_hurricanes_in_the_decade <- c(1:50)\n    colnames(poisson_probabilities_df) <- c(\"poisson_probabilities\", \"number_of_hurricanes\")\n    \n    return(poisson_probabilities_df)\n}\n\ncategory_4_ppois_poisson_probabilities_df <- get_ppois_poisson_probabilities(lambda = lamba_for_category_4_hurricanes)\ncategory_5_ppois_poisson_probabilities_df <- get_ppois_poisson_probabilities(lambda = lamba_for_category_5_hurricanes)","execution_count":null,"outputs":[]},{"metadata":{"trusted":true,"_uuid":"853d2176bde0b143649f9f555a859cd2832d4b13","scrolled":true},"cell_type":"code","source":"category_4_ppois_poisson_probabilities_df %>%\nggplot(aes(x = number_of_hurricanes, y = poisson_probabilities))+\ngeom_point()+\ngeom_line(color = \"red\")+\nlabs(x = \"Number of Hurricanes in a Decade\", y = \"Probability of the Hurricane\", title = \"Probability Distribution of n or fewer Category - 4 Hurricanes in a Decade\")","execution_count":null,"outputs":[]},{"metadata":{"trusted":true,"_uuid":"f06a63ee3a85a1fafd3ec6553025053c22bb1e03"},"cell_type":"code","source":"category_5_ppois_poisson_probabilities_df %>%\nggplot(aes(x = number_of_hurricanes, y = poisson_probabilities))+\ngeom_point()+\ngeom_line(color = \"red\")+\nlabs(x = \"Number of Hurricanes in a Decade\", y = \"Probability of the Hurricane\", title = \"Probability Distribution of n or fewer Category - 5 Hurricanes in a Decade\")","execution_count":null,"outputs":[]},{"metadata":{"_uuid":"74c2f197cac1c1baac34138de5591f1207f2ce02"},"cell_type":"markdown","source":"## Is it an exact Poisson distribution?"},{"metadata":{"trusted":true,"_uuid":"4129a9d59d0a2c047d5aa0f1b941c60c926dc962"},"cell_type":"markdown","source":"Although the plots look similar to a Poisson distribution, we cannot assume that the data is indeed a Poisson distribution by looking at the plots. Poisson distribution has a property that the mean and variance are equal and we use this property to test the fit of our data. Wecheck if this property is satisfied or *almost satisfied* by our data. We compute the ratio of mean and variance of our data:"},{"metadata":{"trusted":true,"_uuid":"8bc2e3b074a07acf77f3f9c8955a1df27cf2c32c"},"cell_type":"code","source":"variance_of_cat_4_hurricanes <- var(final_category_4_hurricane_table$total_hurricanes)\nmean_of_cat_4_hurricanes <- mean(final_category_4_hurricane_table$total_hurricanes)\n\nvariance_mean_ratio_for_category_4_hurricanes <- round(variance_of_cat_4_hurricanes/mean_of_cat_4_hurricanes, 2)\nvariance_mean_ratio_for_category_4_hurricanes","execution_count":null,"outputs":[]},{"metadata":{"_uuid":"287936bb7a7635c77bb681fdbb4844f40f57eac6"},"cell_type":"markdown","source":"We see that the variance of our data is 2.82 times larger than the mean of the data. We check if such a behaviour is normal or not for a poisson distribution. We check if this is just a one time anomaly or is it recurring or not. We will perform a **Monte Carlo Simulation** and repeatedly sample values from the poisson distribution with the mean/lambda equal to the mean of the hurricane data. Our main aim of the simulation is to check -\n\n*Assuming that the category 4 hurricane data is a perfect Poisson distribution, how likely it is for us to generate samples with a variance-to-mean ratio equal to 2.82*"},{"metadata":{"trusted":true,"_uuid":"c2718b5ae3b78d60e770eea2fdcae045857c5810"},"cell_type":"code","source":"set.seed(420)\nvariance_mean_ratio_from_samples <- c()\nnum_of_monte_carlo_simulations <- 1000\nnum_of_points_in_sample <- nrow(final_category_4_hurricane_table)\n\nfor (monte_carlo_experiment_index in  1:num_of_monte_carlo_simulations){\n    poisson_sample <- rpois(n = num_of_points_in_sample, lambda = lamba_for_category_4_hurricanes)\n    variance_mean_ratio_from_samples[[monte_carlo_experiment_index]] <- var(poisson_sample)/mean(poisson_sample)\n}\n\npercentage_of_samples_with_variance_mean_ratio_greater_than_2.82 <- sum(variance_mean_ratio_from_samples > variance_mean_ratio_for_category_4_hurricanes)*100/num_of_monte_carlo_simulations\npercentage_of_samples_with_variance_mean_ratio_greater_than_2.82","execution_count":null,"outputs":[]},{"metadata":{"_uuid":"38b0dea239f84cc38b82bdbc4da31544c95f44b4"},"cell_type":"markdown","source":"This shows that only 0.1% of the monte carlo samples have a variance-mean ratio greater than 2.82. Hence, the hurricane count in a decade does not exhibit an exact Poisson process and the variability in hurricane counts is higher than a Poisson distribution with constant rate. This means that for a distribution of hurricane counts in a decade, the lambda/rate is not constant but keeps changing."},{"metadata":{"_uuid":"718d793177bb3d21dc8166fd49fd41ae2f90fbdc"},"cell_type":"markdown","source":"## Reasons for the varying lambda/rate in hurricane data"},{"metadata":{"_uuid":"2b5a8b27027b803d4271ebfc13b517ad6bd249c0"},"cell_type":"markdown","source":"The reasons for the non-constant rate/lambda in our hurricane data is because external climatic conditions affect the occurence of hurricane and ultimately change the lambda. These external factors could be **changes in pressure, wind speeds, El Nino etc...** This leads to hurricane data being a varying Poisson distribution or an **inhomogeneous Poisson distribution** which can be described as a Poisson distribution with a variable rate/lambda."},{"metadata":{"_uuid":"d76a9306ee61e7ad22fab2d3631727cbeeb952e6"},"cell_type":"markdown","source":"## Analysing QQ Plot\nQuantile plots are a good way to look at what distribution a data might belong to.  Here, we plot a quantile plot of our hurricane data (using the category-4 data again) and quantiles drawn from a theoretical Poisson distribution."},{"metadata":{"trusted":true,"_uuid":"7ef374f36be5da24b73d50b3466cf37ac07b9646"},"cell_type":"code","source":"qqcomp(fitdist(final_category_4_hurricane_table$total_hurricanes, \"pois\"))","execution_count":null,"outputs":[]},{"metadata":{"_uuid":"ed816b12985f0bf755fb4dc5d97d51ec55a7c012"},"cell_type":"markdown","source":"The quantile plot strengthens our conclusion that our hurricane data is not entirely a Poisson distribution with a constant rate. What if we use a negative binomial distribution for this?"},{"metadata":{"trusted":true,"_uuid":"10b1f8c98f81ccf0996014c1c34930239ae2376b"},"cell_type":"code","source":"qqcomp(fitdist(final_category_4_hurricane_table$total_hurricanes, \"nbinom\"))","execution_count":null,"outputs":[]},{"metadata":{"_uuid":"7088f9b17cd389f84f3ff959ba8ea80524fdbd06"},"cell_type":"markdown","source":"This shows that the hurricane count data infact is similar to a **negative binomial distribution**. Poisson distributions are special cases of negative binomial distributions and our above distribution is a case of **overdispersed Poisson distribution**. In an overdispersed Poisson distribution, the observations are overdispersed in comparison to a theoretical Poisson distribution where variance is equal to the mean. This overdispersion causes the variance of the data to be greater than the mean - which is the case for our hurricane data. Such overdispersion can be reduced by varying the variance and keeping the mean constant. Since negative binomial distributions have one more parameter than a Poisson distribution, we can vary the parameter to adjust the variance keeping the mean constant.\n\n\n\n*References for the above explanation - *\n\n[1] https://stats.stackexchange.com/questions/32035/checking-poisson-distribution-plot-using-mean-and-variance-relationship\n\n[2] https://en.wikipedia.org/wiki/Negative_binomial_distribution#Overdispersed_Poisson"},{"metadata":{"_uuid":"a652ea011795f1f93f97d2e1db660d26a8fc3ca7"},"cell_type":"markdown","source":"## Analysing the variables - an exploratory data analysis\nHaving"},{"metadata":{"trusted":true,"_uuid":"038cb6dfb86376603c9a554fadbdfe37d040c68b"},"cell_type":"code","source":"final_category_4_hurricane_table %>%\nggplot(aes(as.factor(Season_decade), total_hurricanes))+\ngeom_bar(stat = \"identity\", color = \"black\", fill = \"tomato\")+\ngeom_line()+\nlabs(x = \"Decades\", y = \"Number of Hurricanes\", title = \"Count of Category - 4 Hurricanes over the Decades\")","execution_count":null,"outputs":[]},{"metadata":{"_uuid":"d050a992f4824f1b4e43a59ed93eea11a31191c0"},"cell_type":"markdown","source":"We see that the number of category-4 hurricanes occuring in a decade has increased with time gradually."},{"metadata":{"trusted":true,"_uuid":"4ea8114854e75ce15390d040da41b776e95eb061"},"cell_type":"code","source":"final_category_5_hurricane_table %>%\nggplot(aes(as.factor(Season_decade), total_hurricanes))+\ngeom_bar(stat = \"identity\", color = \"black\", fill = \"skyblue\")+\nlabs(x = \"Decades\", y = \"Number of Hurricanes\", title = \"Count of Category - 5 Hurricanes over the Decades\")","execution_count":null,"outputs":[]},{"metadata":{"trusted":true,"_uuid":"180c6eb5cd578474b92c6b4e1f4bbdc70fbf24f8"},"cell_type":"markdown","source":"However, in the case of category-5 hurricanes, the distribution/count of hurricanes is not "},{"metadata":{"_uuid":"b70f5b8fc3ad4c57440e268c799bc004333f3d5d"},"cell_type":"markdown","source":"Now, let us upload the whole raw data and clean it again to draw some more analysis. (Till now, the dataset we were working on was decade level)"},{"metadata":{"trusted":true,"_uuid":"222756bef2b7d44d2f759a05dd036ee3db3177b6"},"cell_type":"code","source":"# Load whole of csv data and not just decade wise\ncategory_4 = read.csv(\"../input/category-4/Category4Hurricanes - Sheet1.csv\", header = TRUE)\ncategory_5 = read.csv(\"../input/category-5/Category5Hurricanes - Sheet1.csv\", header = TRUE)","execution_count":null,"outputs":[]},{"metadata":{"trusted":true,"_uuid":"2351f73e140bda35f7695250585c90f190fd913a"},"cell_type":"code","source":"# Changing column names for cateogry_4 dataset\ncolnames(category_4) <- c(\"Name\", \"Season\", \"Month\", \"Max_wind_knots\", \"Max_wind_kmh\", \"Max_wind_mph\", \"Min_pressure_mbar\")\n\n# Changing column names for cateogry_5 dataset\ncolnames(category_5) <- c(\"Name\", \"Dates\", \"Duration_hours\", \"WindSpeedsMPH\", \"PressurehPA\", \"Affected_Areas\", \"Deaths\", \"DamageUSDMillions\")\n\n# Clean month column for Category 4\ncategory_4$Month <- gsub(\" .*$\", \"\",category_4$Month)\ncategory_4$Month <- gsub(\",\", \"\", category_4$Month)\n\n# Clean min_pressure column for Category 4\nfrom <- c(\"≤ \",\"-\", \"–\")\nto <- c(\"\")\n\ngsub_func <- function(pattern, replacement, x) {\n  for(i in 1:length(pattern))\n    x <- gsub(pattern[i], replacement[i], x)\n  x\n}\n\ncategory_4$Min_pressure_mbar <- as.numeric(gsub_func(from, to, category_4$Min_pressure_mbar))\n\n#  Clean Category 5 data\ncategory_5$Dates <- gsub(\"†\", \"\", category_5$Dates)\ncategory_5$Year <- as.numeric(gsub(\".+, \", \"\", category_5$Dates))\ncategory_5$Month <- gsub(\"[0-9, ].+\", \"\", category_5$Dates)\ncategory_5$DamageUSDMillions <- gsub(\">\", \"\", category_5$DamageUSDMillions)\ncategory_5$WindSpeedsMPH <- as.numeric(gsub(\"([0-9]+).*\", \"\\\\1\", category_5$WindSpeedsMPH))\ncategory_5$PressurehPA <- as.numeric(gsub(\"([0-9]+).*\", \"\\\\1\", category_5$PressurehPA))\n\ncategory_5$DamageUSDMillions <- gsub(\"([0-9]+).*\", \"\\\\1\", category_5$DamageUSDMillions)\ncategory_5$DamageUSDMillions <- gsub(\"Extensive\", \"\", category_5$DamageUSDMillions)\ncategory_5$DamageUSDMillions <- as.numeric(gsub(\"\\\\$\", \"\", category_5$DamageUSDMillions))\n\nhead(category_4)\nhead(category_5)","execution_count":null,"outputs":[]},{"metadata":{"_uuid":"8c60141e4064d26dfb2261045c592fa78a3e7691"},"cell_type":"markdown","source":"After cleaning the data, we can try drawing correlation between integer/numerical type columns.\nFor category 4 data, 3 of the 4 numerical columns are of speed(in different notations), so it is obvious that they will be highly correlated (~1).\nThe important correlation is between speed and pressure. In our findings, there is a negative correlation between them, which can be justified according to http://ww2010.atmos.uiuc.edu/(Gh)/guides/mtr/hurr/stages/cane/pswd.rxml ."},{"metadata":{"trusted":true,"_uuid":"b1287b6360e0931dc8a25ad70eb94b8a15e5afe0"},"cell_type":"code","source":"library(reshape2)\ncormat <- cor(category_4[, c(\"Max_wind_knots\", \"Max_wind_kmh\", \"Max_wind_mph\", \"Min_pressure_mbar\")], use = \"complete.obs\", method = \"pearson\")\nmelted_cormat <- melt(cormat)\n\nggplot(data = melted_cormat, aes(x=Var1, y=Var2, fill=value)) + geom_tile()","execution_count":null,"outputs":[]},{"metadata":{"_uuid":"68c7cb741cc1faa6722919c9bfff23a65dafe78a"},"cell_type":"markdown","source":"For category 5, below is the correlation matrix. Here also, wind speed and pressure are negatively correlated."},{"metadata":{"trusted":true,"_uuid":"e0110b42f391522310d1bf5c56369161a3eaa8a6"},"cell_type":"code","source":"cormat5 <- cor(category_5[, c(\"Duration_hours\", \"WindSpeedsMPH\", \"PressurehPA\", \"Deaths\", \"DamageUSDMillions\")], use = \"complete.obs\", method = \"pearson\")\nmelted_cormat5 <- melt(cormat5)\n\nggplot(data = melted_cormat5, aes(x=Var1, y=Var2, fill=value)) + geom_tile()","execution_count":null,"outputs":[]}],"metadata":{"kernelspec":{"display_name":"R","language":"R","name":"ir"},"language_info":{"mimetype":"text/x-r-source","name":"R","pygments_lexer":"r","version":"3.4.2","file_extension":".r","codemirror_mode":"r"}},"nbformat":4,"nbformat_minor":1}